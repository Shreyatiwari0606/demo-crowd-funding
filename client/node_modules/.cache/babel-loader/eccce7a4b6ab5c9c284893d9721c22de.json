{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shreya\\\\Downloads\\\\shreyabackend\\\\shreya\\\\client\\\\src\\\\pages\\\\SearchFundraiser.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Jumbotron, Container, Col, Form, Button, Card, Row, CardColumns } from \"react-bootstrap\";\nimport { Animated } from \"react-animated-css\";\nimport Auth from \"../utils/auth\";\nimport { saveFundraiserIds, getSavedFundraiserIds } from \"../utils/localStorage\";\nimport { ADD_FUNDRAISER } from \"../utils/mutations\";\nimport { GET_ALL_FUNDRAISERS } from \"../utils/queries\";\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport FundraiserCard from \"../components/FundraiserCard\";\nconst SearchFundraisers = () => {\n  const [searchedFundraisers, setSearchedFundraisers] = useState([]);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [savedFundraiserIds, setSavedFundraiserIds] = useState(getSavedFundraiserIds());\n  const getAllFundRaisers = useQuery(GET_ALL_FUNDRAISERS, {\n    onCompleted: fundData => {\n      setSearchedFundraisers(fundData.getAllFundRaisers);\n      console.log(\"got fund data\", fundData);\n    }\n  });\n  useEffect(() => {\n    return () => saveFundraiserIds(savedFundraiserIds);\n  });\n  const handleSearchChange = e => {\n    e.preventDefault();\n    setSearchInput(e.target.value);\n  };\n  const getFilteredResults = allResult => {\n    const reversed = [...searchedFundraisers].reverse();\n    return reversed.filter(fundraiser => {\n      return fundraiser.title.toLowerCase().includes(searchInput.toLowerCase()) || fundraiser.description.toLowerCase().includes(searchInput.toLowerCase());\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Jumbotron, {\n    fluid: true,\n    className: \"text-light page-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Browse Fundraisers!\"), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formSearch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"search\",\n    placeholder: \"Search\",\n    className: \"search\",\n    width: 50,\n    onChange: handleSearchChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  })))), getAllFundRaisers.loading && /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 37\n    }\n  }, \"Loading fundraisers\"), !getAllFundRaisers.loading && searchedFundraisers && /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, getFilteredResults(searchedFundraisers).length, \" Fundraisers\"), /*#__PURE__*/React.createElement(CardColumns, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, getFilteredResults(searchedFundraisers).map(fundraiser => {\n    return /*#__PURE__*/React.createElement(FundraiserCard, {\n      fundraiser: fundraiser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 22\n      }\n    });\n  }))));\n};\nexport default SearchFundraisers;","map":{"version":3,"names":["React","useState","useEffect","Jumbotron","Container","Col","Form","Button","Card","Row","CardColumns","Animated","Auth","saveFundraiserIds","getSavedFundraiserIds","ADD_FUNDRAISER","GET_ALL_FUNDRAISERS","useMutation","useQuery","FundraiserCard","SearchFundraisers","searchedFundraisers","setSearchedFundraisers","searchInput","setSearchInput","savedFundraiserIds","setSavedFundraiserIds","getAllFundRaisers","onCompleted","fundData","console","log","handleSearchChange","e","preventDefault","target","value","getFilteredResults","allResult","reversed","reverse","filter","fundraiser","title","toLowerCase","includes","description","createElement","Fragment","fluid","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Group","controlId","Control","type","placeholder","width","onChange","loading","length","map"],"sources":["C:/Users/Shreya/Downloads/shreyabackend/shreya/client/src/pages/SearchFundraiser.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  Row,\r\n  CardColumns,\r\n} from \"react-bootstrap\";\r\nimport { Animated } from \"react-animated-css\";\r\n\r\nimport Auth from \"../utils/auth\";\r\nimport {\r\n  saveFundraiserIds,\r\n  getSavedFundraiserIds,\r\n} from \"../utils/localStorage\";\r\nimport { ADD_FUNDRAISER } from \"../utils/mutations\";\r\nimport { GET_ALL_FUNDRAISERS } from \"../utils/queries\";\r\nimport { useMutation, useQuery } from \"@apollo/client\";\r\nimport FundraiserCard from \"../components/FundraiserCard\";\r\n\r\nconst SearchFundraisers = () => {\r\n  const [searchedFundraisers, setSearchedFundraisers] = useState([]);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [savedFundraiserIds, setSavedFundraiserIds] = useState(\r\n    getSavedFundraiserIds()\r\n  );\r\n\r\n  const getAllFundRaisers = useQuery(GET_ALL_FUNDRAISERS, {\r\n    onCompleted: (fundData) => {\r\n      setSearchedFundraisers(fundData.getAllFundRaisers);\r\n\r\n      console.log(\"got fund data\", fundData);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    return () => saveFundraiserIds(savedFundraiserIds);\r\n  });\r\n\r\n  const handleSearchChange = (e) => {\r\n    e.preventDefault();\r\n    setSearchInput(e.target.value);\r\n  };\r\n\r\n  const getFilteredResults = (allResult) => {\r\n    const reversed = [...searchedFundraisers].reverse();\r\n    return reversed.filter((fundraiser) => {\r\n      return (\r\n        fundraiser.title.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        fundraiser.description.toLowerCase().includes(searchInput.toLowerCase())\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light page-header\">\r\n        <Container>\r\n          <h1>Browse Fundraisers!</h1>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"formSearch\">\r\n            <Form.Control\r\n              type=\"search\"\r\n              placeholder=\"Search\"\r\n              className=\"search\"\r\n              width={50}\r\n              onChange={handleSearchChange}\r\n            />\r\n          </Form.Group>\r\n        </Container>\r\n      </Jumbotron>\r\n\r\n      {getAllFundRaisers.loading && <h1>Loading fundraisers</h1>}\r\n      {!getAllFundRaisers.loading && searchedFundraisers && (\r\n        <Container>\r\n          <h2>{getFilteredResults(searchedFundraisers).length} Fundraisers</h2>\r\n          <CardColumns>\r\n            {getFilteredResults(searchedFundraisers).map((fundraiser) => {\r\n              return <FundraiserCard fundraiser={fundraiser} />;\r\n            })}\r\n          </CardColumns>\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchFundraisers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}